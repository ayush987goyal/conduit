webpackJsonp([1],{0:function(t,e,r){t.exports=r("NHnr")},"7zck":function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("/5sW"),n=r("3EgV"),a=r.n(n),i=r("IHMs"),o=r.n(i),l=(r("7zck"),r("Biqn")),u=r.n(l),c=r("NYxO"),d={data:function(){return{title:"Conduit"}},computed:u()({},Object(c["b"])({user:function(t){return t.user.user}}),{menuItems:function(){var t=[{icon:"touch_app",title:"Sign in",link:"/login"},{icon:"group_add",title:"Sign up",link:"/register"}];return this.user&&(t=[{icon:"note_add",title:"New Article",link:"/login"},{icon:"settings",title:"Settings",link:"/register"},{icon:"account_circle",title:this.user.username,link:"/register"}]),t}})},m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-toolbar",{attrs:{app:""}},[r("v-toolbar-title",{staticClass:"headline ml-5 main-title",on:{click:function(e){t.$router.push("/")}}},[t._v(t._s(t.title))]),r("v-spacer"),r("v-toolbar-items",[r("v-btn",{attrs:{flat:"",to:"/"}},[r("v-icon",{attrs:{left:"",color:"green lighten-1"}},[t._v("home")]),t._v("\n      Home\n    ")],1),t._l(t.menuItems,function(e){return r("v-btn",{key:e.title,attrs:{flat:"",to:e.link}},[r("v-icon",{attrs:{left:"",color:"green lighten-1"}},[t._v(t._s(e.icon))]),t._v("\n      "+t._s(e.title)+"\n    ")],1)})],2)],1)},f=[],v=r("XyMi");function p(t){r("nDho")}var h=!1,b=p,g="data-v-dd33d576",w=null,x=Object(v["a"])(d,m,f,h,b,g,w),_=x.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-footer",{attrs:{app:""}})},E=[],y=null,$=!1,C=null,j=null,O=null,U=Object(v["a"])(y,k,E,$,C,j,O),R=U.exports,S={props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-alert",{attrs:{color:"error",icon:"error",dismissible:"",value:!0},on:{input:t.onClose}},[t._v("\n  "+t._s(t.text)+"\n")])},q=[],H=!1,I=null,N=null,z=null,T=Object(v["a"])(S,L,q,H,I,N,z),A=T.exports,D={components:{TheHeader:_,TheFooter:R,Alert:A},computed:u()({},Object(c["b"])({loading:function(t){return t.shared.loading},error:function(t){return t.shared.error}})),methods:{clearError:function(){this.$store.commit("clearError")}}},M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("TheHeader"),r("v-content",[t.loading?r("v-progress-linear",{staticStyle:{"margin-top":"1px"},attrs:{indeterminate:!0}}):t._e(),t.error?r("Alert",{attrs:{text:t.error},on:{dismissed:t.clearError}}):t._e(),r("v-container",{attrs:{fluid:""}},[r("router-view")],1)],1),r("TheFooter")],1)},P=[],Y=!1,B=null,F=null,W=null,J=Object(v["a"])(D,M,P,Y,B,F,W),V=J.exports,X=r("/ocq"),G={data:function(){return{valid:!1,email:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"E-mail must be valid"}],password:"",passwordRules:[function(t){return!!t||"Password is required"}]}},computed:u()({},Object(c["b"])({user:function(t){return t.user.user}})),watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{submit:function(){var t={email:this.email,password:this.password};this.$store.dispatch("signUserIn",{user:t}),this.$refs.form.reset()}}},K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs6:"","offset-xs3":""}},[r("h2",{staticClass:"display-2 mb-2"},[t._v("Sign in")]),r("router-link",{staticClass:"link subheading",attrs:{to:"/register"}},[t._v("Need an account?")])],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"mt-3",attrs:{xs6:"","offset-xs3":""}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"E-mail",rules:t.emailRules,"validate-on-blur":""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{label:"Enter your password",rules:t.passwordRules,type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-btn",{staticClass:"mt-4 ml-0",attrs:{type:"submit",color:"primary",disabled:!t.valid},on:{click:t.submit}},[t._v("\n          Sign in\n        ")])],1)],1)],1)],1)},Q=[];function Z(t){r("gNjY")}var tt=!1,et=Z,rt="data-v-92dad30c",st=null,nt=Object(v["a"])(G,K,Q,tt,et,rt,st),at=nt.exports,it={data:function(){return{valid:!1,username:"",usernameRules:[function(t){return!!t||"Username is required"}],email:"",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t)||"E-mail must be valid"}],password:"",passwordRules:[function(t){return!!t||"Password is required"}]}},computed:u()({},Object(c["b"])({user:function(t){return t.user.user}})),watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{submit:function(){var t={username:this.username,password:this.password,email:this.email};this.$store.dispatch("signUserUp",{user:t}),this.$refs.form.reset()}}},ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"text-xs-center",attrs:{xs6:"","offset-xs3":""}},[r("h2",{staticClass:"display-2 mb-2"},[t._v("Sign up")]),r("router-link",{staticClass:"link subheading",attrs:{to:"/login"}},[t._v("Have an account?")])],1)],1),r("v-layout",{attrs:{row:""}},[r("v-flex",{staticClass:"mt-3",attrs:{xs6:"","offset-xs3":""}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{label:"Username",rules:t.usernameRules,"validate-on-blur":""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),r("v-text-field",{attrs:{label:"E-mail",rules:t.emailRules,"validate-on-blur":""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),r("v-text-field",{attrs:{label:"Enter your password",rules:t.passwordRules,type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),r("v-btn",{staticClass:"mt-4 ml-0",attrs:{type:"submit",color:"primary",disabled:!t.valid},on:{click:t.submit}},[t._v("\n          Sign up\n        ")])],1)],1)],1)],1)},lt=[];function ut(t){r("wcky")}var ct=!1,dt=ut,mt="data-v-3282ba14",ft=null,vt=Object(v["a"])(it,ot,lt,ct,dt,mt,ft),pt=vt.exports;s["a"].use(X["a"]);var ht=new X["a"]({routes:[{path:"/login",name:"signin",component:at},{path:"/register",name:"signup",component:pt}]}),bt=r("mtWM"),gt=r.n(bt),wt=gt.a.create({baseURL:"/api"}),xt="Bearer ".concat(localStorage.getItem("token"));wt.defaults.headers.common["Authorization"]=xt;var _t=wt,kt={state:{user:null},mutations:{setUser:function(t,e){t.user=e,localStorage.setItem("token",e.token)}},actions:{signUserUp:function(t,e){var r=t.commit;r("setLoading",!0),r("clearError"),_t.post("/users",e).then(function(t){r("setLoading",!1),r("setUser",t.data.user)}).catch(function(t){r("setLoading",!1),r("setError",t.response.data.message)})},signUserIn:function(t,e){var r=t.commit;r("setLoading",!0),r("clearError"),_t.post("/users/login",e).then(function(t){r("setLoading",!1),r("setUser",t.data.user)}).catch(function(t){r("setLoading",!1),r("setError",t.response.data.message)})}}},Et={state:{loading:!1,error:null},mutations:{setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{}};s["a"].use(c["a"]);var yt=new c["a"].Store({modules:{user:kt,shared:Et}});s["a"].use(a.a,{theme:{primary:o.a.green.lighten1}}),s["a"].config.productionTip=!1,new s["a"]({router:ht,store:yt,render:function(t){return t(V)}}).$mount("#app")},gNjY:function(t,e){},nDho:function(t,e){},wcky:function(t,e){}},[0]);
//# sourceMappingURL=app.c69a0324.js.map